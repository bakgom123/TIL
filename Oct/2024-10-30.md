## 날짜: 2024-10-30

### 스크럼
- 학습 목표 : V8 엔진, 자바스크립트 동작 방식


### 오늘 배운 내용
#### V8 엔진이란?
- 정의: 구글이 개발한 오픈소스로 가장 대중적인 자바스크립트 엔진

- 여기서 자바스크립트 엔진이란?
    - 컴퓨터가 인간이 작성한 자바스크립트 파일을 읽을 수 있게 만들어준다.

- 다양한 브라우저의 자바스크립트 엔진
    - Firefox → SpiderMonkey
    - Microsoft → Chakra
        - 하지만 현재 Edge는 V8 엔진을 사용함
    - Opera → V8 엔진
    - Safari → JavaScriptCore (Nitro)
- 브라우저는 아니지만 Node.js는 서버 측 JavaScript 실행 환경으로 V8 엔진을 사용해서 코드를 실행

#### JavaScript 동작 방식
1. 사용자가 작성한 코드가 V8 엔진에 전달이 된다.
2. V8 엔진은 입력된 소스 코드를 파싱하여 AST를 생성한다.
3. V8 엔진은 AST를 인터프리터에 전달한다 
4. 인터프리터는 빠르게 바이트코드를 생성한다.
5. 이 후, 바이트코드를 실행하고 이 과정에서 코드의 실행 빈도를 모니터링
6. JIT 컴파일을 통해 자주 호출되는 함수나 코드가 감지되면, 이를 기계어로 컴파일 후 성능을 최적화

#### AST
- Abstract Syntax Tree의 약자
- 일반 명사 : 추상 구문 트리
- 정의: 소스 코드를 구조적으로 표현한 트리 형태의 데이터 구조.
- 비슷한 개념 → DOM, CSSOM

1. 왜 파싱이 필요한가?
- 코드 분석
    - 고급 언어로 작성된 소스 코드를 컴퓨터가 이해할 수 없기에 컴퓨터가 이해할 수 있는 형태로 변환시키는 과정이 필요함.
    - 파싱 과정에서 문법 오류를 더블 췍

1. 파싱 과정
- 소스 코드가 엔진에 전달됨
- 소스 코드를 토큰으로 분해한다.
    - 토큰은 코드의 기본적인 구성 요소이다. (변수, 연산자…) → 'let a = 5' -> ['let' , 'a' , '=' , '5']
- 생성된 토큰을 기반으로 AST를 생성한다.
- AST를 기반으로 인터프리터에게 전달 후 빠르게 바이트코드로 변환한다
    - 바이트코드 생성 → 컴퓨터가 이해할 수 있는 중간 언어

#### 컴파일러와 인터프리터
- 컴파일러
    - 정의: 고급 언어로 작성된 코드를 기계어로 변환해서 CPU가 이해할 수 있게 만든다.
    - 사용 이유:
        - 최적화
    - 단점:
        - 처음 실행하기 위해서는 시간이 걸릴 수 있다.

- 인터프리터 - 코드를 한 줄씩 해석해서 실행함
    - 정의: 고급 언어로 작성된 코드를 해석해서 실행하는 프로그램이다.
    - 사용 이유:
        1. 빠른 결과 확인
        2. 코드의 수정과 실행이 즉각적으로 이루어짐
        3. 메모리를 덜 사용한다
    - 단점:
        - 반복적으로 실행을 할 때는 상대적으로 느리다

- 그래서 왜 컴파일러와 인터프리터를 차이점을 알아야 하는가?

    - V8 엔진은 컴파일러와 인터프리터의 장점을 결합해서 자바스크립트 코드를 효율적으로 실행할 수 있도록 설계된 하이브리드 엔진

#### JIT 컴파일
- 일반 명사: Just-In-Time 컴파일
- 정의: 코드 실행 중에 필요한 부분만 즉시 컴파일한다.
    - 자주 사용되는 코드를 실행 시점에 컴파일하여 기계어로 변환한다.

#### JIT 컴파일과 인터프리터 결합
1. 코드를 인터프리터로 실행해서 코드의 실행 빈도를 모니터링
2. 자주 호출되는 함수나 코드를 JIT 컴파일러가 식별해서 해당 부분만 기계어로 컴파일
3. 컴파일된 코드는 이후 호출 시 빠르게 실행

*V8 엔진은 코드가 실행되는 동안 계속 함수의 호출이나 코드의 실행 빈도를 모니터링*

### 오늘의 회고
- 딥다이브를 통해 내가 배정받은 주제에 대해 정말 깊게 알아갈 수 있어서 너무 좋았다